{"version":3,"sources":["webpack://@hehongyuanlove/flarum-points/webpack/bootstrap","webpack://@hehongyuanlove/flarum-points/./forum.js","webpack://@hehongyuanlove/flarum-points/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@hehongyuanlove/flarum-points/./src/forum/addGoaskmePointsPage.js","webpack://@hehongyuanlove/flarum-points/./src/forum/addGoaskmePointsSessionDropdown.js","webpack://@hehongyuanlove/flarum-points/./src/forum/addPointsMoney.js","webpack://@hehongyuanlove/flarum-points/./src/forum/components/CloseModal.js","webpack://@hehongyuanlove/flarum-points/./src/forum/components/RequestModal.js","webpack://@hehongyuanlove/flarum-points/./src/forum/components/RequestsList.js","webpack://@hehongyuanlove/flarum-points/./src/forum/components/RequestsPage.js","webpack://@hehongyuanlove/flarum-points/./src/forum/components/addGoaskmePointsUserPage.js","webpack://@hehongyuanlove/flarum-points/./src/forum/index.js","webpack://@hehongyuanlove/flarum-points/./src/forum/models/PointsPost.js","webpack://@hehongyuanlove/flarum-points/./src/forum/models/PointsRequest.js","webpack://@hehongyuanlove/flarum-points/external \"flarum.core.compat['Component']\"","webpack://@hehongyuanlove/flarum-points/external \"flarum.core.compat['Model']\"","webpack://@hehongyuanlove/flarum-points/external \"flarum.core.compat['components/Alert']\"","webpack://@hehongyuanlove/flarum-points/external \"flarum.core.compat['components/Button']\"","webpack://@hehongyuanlove/flarum-points/external \"flarum.core.compat['components/Dropdown']\"","webpack://@hehongyuanlove/flarum-points/external \"flarum.core.compat['components/IndexPage']\"","webpack://@hehongyuanlove/flarum-points/external \"flarum.core.compat['components/LinkButton']\"","webpack://@hehongyuanlove/flarum-points/external \"flarum.core.compat['components/LoadingIndicator']\"","webpack://@hehongyuanlove/flarum-points/external \"flarum.core.compat['components/LogInModal']\"","webpack://@hehongyuanlove/flarum-points/external \"flarum.core.compat['components/Modal']\"","webpack://@hehongyuanlove/flarum-points/external \"flarum.core.compat['components/Page']\"","webpack://@hehongyuanlove/flarum-points/external \"flarum.core.compat['components/SessionDropdown']\"","webpack://@hehongyuanlove/flarum-points/external \"flarum.core.compat['components/UserCard']\"","webpack://@hehongyuanlove/flarum-points/external \"flarum.core.compat['components/UserPage']\"","webpack://@hehongyuanlove/flarum-points/external \"flarum.core.compat['extend']\"","webpack://@hehongyuanlove/flarum-points/external \"flarum.core.compat['helpers/avatar']\"","webpack://@hehongyuanlove/flarum-points/external \"flarum.core.compat['helpers/humanTime']\"","webpack://@hehongyuanlove/flarum-points/external \"flarum.core.compat['helpers/icon']\"","webpack://@hehongyuanlove/flarum-points/external \"flarum.core.compat['helpers/listItems']\"","webpack://@hehongyuanlove/flarum-points/external \"flarum.core.compat['helpers/username']\"","webpack://@hehongyuanlove/flarum-points/external \"flarum.core.compat['models/User']\"","webpack://@hehongyuanlove/flarum-points/external \"flarum.core.compat['utils/ItemList']\"","webpack://@hehongyuanlove/flarum-points/external \"flarum.core.compat['utils/UserControls']\"","webpack://@hehongyuanlove/flarum-points/external \"flarum.core.compat['utils/mixin']\""],"names":["app","routes","path","component","addGoaskmePointsUserPage","extend","UserPage","prototype","items","href","route","username","user","session","m","current","data","id","add","LinkButton","icon","translator","trans","SessionDropdown","UserCard","num","props","attributes","showFull","parseInt","push","apply","Array","fill","map","item","index","arr","length","CloseModal","oninit","vnode","request","goaskme_convert_gam_requests","className","title","content","onhide","prop","save","Modal","FlagPostModal","success","pointsNumber","pointsConverLimit","pointsConverNumber","pointsCount","hide","bind","loading","Button","type","disabled","children","onsubmit","e","preventDefault","alert","store","createRecord","errorHandler","onerror","then","loaded","error","status","RequestsList","load","view","requests","cache","points_list","amount","created_at","redraw","res","saveArr","isArray","list","i","err","console","log","Component","RequestsPage","history","bodyClass","render","Page","changeSort","show","handleChangeSort","sort","loadUser","param","listItems","actionItems","toArray","viewItems","ItemList","onclick","modal","initializers","models","PointsPost","points","PointsRequest","User","Model","hasOne","goaskme_convert_gam","addGoaskmePointsPage","addGoaskmePointsSessionDropdown","addPointsMoney","mixin"],"mappings":"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","file":"forum.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./forum.js\");\n","export * from './src/forum';\r\n","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","import { extend } from 'flarum/extend'\nimport UserPage from 'flarum/components/UserPage'\nimport LinkButton from 'flarum/components/LinkButton'\nimport addGoaskmePointsUserPage from './components/addGoaskmePointsUserPage'\n\nexport default function() {\n  app.routes['user.GoAskMePoints'] = { path: '/u/:username/GoAskMePoints', component: addGoaskmePointsUserPage }\n\n  extend(UserPage.prototype, 'navItems', function(items) {\n    const href = app.route('user.GoAskMePoints', { username: this.user.username() })\n    // Hide links from guests if they are not already on the page\n    if (!app.session.user && m.route() !== href) return\n    if (app.current.user && app.session.user.data.id !== app.current.user.data.id) return\n\n    items.add(\n      'GAM Points',\n      LinkButton.component({\n        href,\n        icon: 'fa fa-star'\n      },app.translator.trans('goaskme-points.forum.user.dropdown_label')),\n      85\n    )\n  })\n}\n","import { extend } from 'flarum/extend';\nimport LinkButton from 'flarum/components/LinkButton';\nimport SessionDropdown from 'flarum/components/SessionDropdown';\nimport IndexPage from 'flarum/components/IndexPage';\n\nexport default () => {\n    extend(SessionDropdown.prototype, 'items', (items) => {\n        const user = app.session.user;\n      items.add(\n        'settings',\n        LinkButton.component(\n          {\n            icon: 'fa fa-star',\n            href: app.route('user.GoAskMePoints', { username: user.username() }),\n          },\n          app.translator.trans('goaskme-points.forum.user.dropdown_label')\n        ),\n        99\n      );\n    });\n    // 缺乏登陆判断\n    /*\n        extend(IndexPage.prototype, 'navItems', (items) => {\n            const user = app.session.user;\n            items.add(\n                'GoAskMePoints',\n                LinkButton.component({\n                    icon: 'fa fa-star',\n                    children: app.translator.trans('goaskme-points.forum.user.dropdown_label'),\n                    href: app.route('user.GoAskMePoints', { username: user.username() }),\n                }),\n                75\n            );\n\n        });\n        */\n};\n","import { extend } from 'flarum/extend'\nimport UserCard from 'flarum/components/UserCard'\nimport UserControls from 'flarum/utils/UserControls'\nimport Button from 'flarum/components/Button'\n//import UserMoneyModal from './components/UserMoneyModal';\nimport Model from 'flarum/Model'\nimport User from 'flarum/models/User'\n\nexport default function() {\n  //边框 fa fa-star-o 全空\n  //边框 fa fa-star-half-o 空半星\n  // fa fa-star-half 半星\n  // fa fa-star 全星\n  extend(UserCard.prototype, 'infoItems', function(items) {\n    const num = this.props.user.data.attributes['pointsRank']\n    let showFull = ['荣誉爆炸值：']\n    if (parseInt(parseInt(num) / 2)) {\n      showFull.push.apply(showFull, Array(parseInt(parseInt(num) / 2)).fill('fa fa-star'))\n    }\n    if (parseInt(parseInt(num) % 2)) {\n      showFull.push.apply(showFull, Array(parseInt(num) % 2).fill('fa fa-star-half'))\n    }\n    items.add(\n      'points-rate',\n      showFull.map(function(item, index, arr) {\n        if (index === 0) {\n          return item\n        }\n        return m('i', { class: item + '  lv' + arr.length })\n      })\n    )\n  })\n\n  //管理员编辑 money\n  /*\n    extend(UserControls, 'moderationControls', function (items, user) {\n        if (user.canEditMoney()) {\n            items.add('money', Button.component({\n                children: app.translator.trans('antoinefr-money.forum.user_controls.money_button'),\n                icon: 'fas fa-money-bill',\n                onclick: function () {\n                    app.modal.show(new UserMoneyModal({ user }));\n                }\n            }));\n        }\n    });\n    */\n}\n","/*\n *\n *  This file is part of fof/username-request.\n *\n *  Copyright (c) 2019 FriendsOfFlarum.\n *\n *  For the full copyright and license information, please view the LICENSE.md\n *  file that was distributed with this source code.\n *\n */\n\nimport Alert from 'flarum/components/Alert'\nimport Modal from 'flarum/components/Modal'\nimport Button from 'flarum/components/Button'\n\nexport default class CloseModal extends Modal {\n  oninit(vnode) {\n    super.oninit(vnode)\n\n    this.request = app.session.user.goaskme_convert_gam_requests()\n  }\n\n  className() {\n    return 'ResultsModal Modal'\n  }\n\n  title() {\n    return app.translator.trans('goaskme-points.forum.convert_gam.close_title')\n  }\n\n  content() {\n    return (\n      <div className=\"Modal-body\">\n        <div className=\"Form Form--centered\">\n          <h2>{app.translator.trans('goaskme-points.forum.convert_gam.close_info')}</h2>\n        </div>\n      </div>\n    )\n  }\n\n  onhide() {\n    app.session.user.goaskme_convert_gam_requests = m.prop()\n    this.request.save({ delete: true })\n  }\n}\n","/*\n *\n *  This file is part of fof/username-request.\n *\n *  Copyright (c) 2019 FriendsOfFlarum.\n *\n *  For the full copyright and license information, please view the LICENSE.md\n *  file that was distributed with this source code.\n *\n */\n\nimport Alert from 'flarum/components/Alert'\nimport Modal from 'flarum/components/Modal'\nimport Button from 'flarum/components/Button'\n\nexport default class FlagPostModal extends Modal {\n  oninit(vnode) {\n    super.oninit(vnode)\n\n    this.username = m.prop(app.session.user.username())\n\n    this.success = false\n\n    // this.password = m.prop('')\n    // 当前积分数量\n    this.pointsNumber = parseInt(app.session.user.data.attributes['pointsCount'])\n\n    this.pointsConverLimit = parseInt(this.pointsNumber / 5)\n\n    this.pointsConverNumber = m.prop(0)\n    this.pointsCount = m.prop(\"\")\n  }\n\n  className() {\n    return 'RequestPointsConvert Modal--small'\n  }\n\n  title() {\n    return app.translator.trans('goaskme-points.forum.convert_gam.title')\n  }\n\n  content() {\n    if (this.success) {\n      return (\n        <div className=\"Modal-body\">\n          <div className=\"Form Form--centered\">\n            <p className=\"helpText\" style=\"text-align: center;\">{app.translator.trans('goaskme-points.forum.convert_gam.confirmation_message')}</p>\n            <div className=\"Form-group\">\n              <Button className=\"Button Button--primary Button--block\" onclick={this.hide.bind(this)}>\n                {app.translator.trans('goaskme-points.forum.request.dismiss')}\n              </Button>\n            </div>\n          </div>\n        </div>\n      )\n    }\n\n    return (\n      <div className=\"Modal-body\">\n        <div className=\"Form Form--centered\">\n          <div className=\"Form-group\">\n            {app.translator.trans('goaskme-points.forum.convert_gam.points_show')}\n            {this.pointsNumber}\n          </div>\n          <div className=\"Form-group\">{app.translator.trans('goaskme-points.forum.convert_gam.points_ratio')}</div>\n          <div className=\"Form-group\">\n            {app.translator.trans('goaskme-points.forum.convert_gam.points_max_convert')}\n            {this.pointsConverLimit}\n          </div>\n          <div className=\"Form-group\">\n            <input\n              type=\"number\"\n              name=\"number\"\n              className=\"FormControl\"\n              placeholder={app.translator.trans('goaskme-points.forum.convert_gam.convert_num')}\n              min=\"1\"\n              max={this.pointsConverLimit}\n              bidi={this.pointsConverNumber}\n              disabled={this.loading}\n              style=\"text-align: center;\"\n            />\n          </div>\n          <div className=\"Form-group\">\n            <input\n              type=\"text\"\n              name=\"text\"\n              minlength=\"4\"\n              className=\"FormControl\"\n              placeholder={app.translator.trans('goaskme-points.forum.convert_gam.address')}\n              bidi={this.pointsCount}\n              disabled={this.loading}\n            />\n          </div>\n          <div className=\"Form-group\">\n            {Button.component({\n              className: 'Button Button--primary Button--block',\n              type: 'submit',\n              loading: this.loading,\n              disabled: this.loading || this.pointsConverLimit === 0,\n              children: app.translator.trans('goaskme-points.forum.request.submit')\n            })}\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  onsubmit(e) {\n    e.preventDefault()\n\n    this.alert = null\n\n    // if (this.username() === app.session.user.username()) {\n    //   this.hide()\n    //   return\n    // }\n\n    this.loading = true\n\n    app.store\n      .createRecord('goaskme_convert_gam_requests')\n      // .save(\n      //  { username: this.username() },\n      //  {\n      //    meta: { password: this.password() },\n      //    errorHandler: this.onerror.bind(this)\n      //  }\n      //)\n      .save({\n        pointsConverNumber: this.pointsConverNumber,\n        pointsCount: this.pointsCount, errorHandler: this.onerror.bind(this)\n      })\n      .then(request => {\n        app.session.user.data.attributes['pointsCount'] = request.data.attributes['pointsCount']\n        app.session.user.goaskme_convert_gam_requests = m.prop(request)\n        this.success = true\n      })\n      .catch(() => { })\n      .then(this.loaded.bind(this))\n  }\n\n  onerror(error) {\n    if (error.status === 500) {\n      error.alert.props.children = app.translator.trans('goaskme-points.forum.request.invalid_Argument')\n    }\n\n    super.onerror(error)\n  }\n}\n","/*\n *\n *  This file is part of fof/username-request.\n *\n *  Copyright (c) 2019 FriendsOfFlarum.\n *\n *  For the full copyright and license information, please view the LICENSE.md\n *  file that was distributed with this source code.\n *\n */\n\nimport Component from 'flarum/Component'\nimport LoadingIndicator from 'flarum/components/LoadingIndicator'\nimport avatar from 'flarum/helpers/avatar'\nimport username from 'flarum/helpers/username'\nimport icon from 'flarum/helpers/icon'\nimport humanTime from 'flarum/helpers/humanTime'\n// import ActionModal from './ActionModal'\n\nexport default class RequestsList extends Component {\n  vnode(vnode) {\n    this.loading = false\n    this.load();\n  }\n\n  view() {\n    const requests = app.cache.points_list || []\n    //return <div className=\"NotificationList RequestsList\"> 123123123 </div>\n    // {owner_id: 1, type: \"Convering\", amount: -30, current: 5}\n    return (\n      <div className=\"NotificationList RequestsList\">\n        <div className=\"NotificationList-header\">\n          <h4 >流水明细(current:{parseInt(app.session.user.data.attributes['pointsCount'])})    </h4>\n\n          <h4 >时区：UTC/GMT+08:00 </h4>\n        </div>\n        <div className=\"NotificationList-content\">\n          <table class=\"NotificationGrid\" style=\"width: 100%;align-items: center;text-align: center;\">\n            <thead>\n              <tr>\n                <th class=\"NotificationGrid-groupToggle\">类型</th>\n                <th class=\"NotificationGrid-groupToggle\">数量</th>\n                <th class=\"NotificationGrid-groupToggle\">流水</th>\n                <th class=\"NotificationGrid-groupToggle\">创建时间</th>\n              </tr>\n            </thead>\n            <tbody>\n              {requests.length ? (\n                requests.map(request => {\n                  return (\n                    <tr>\n                      <td class=\"NotificationGrid-groupToggle\">\n                        {\n                          (request.type == 'exchange' || request.type == 'tax_income' || request.type == 'class_income')?\n                            <a href=\"https://shop.goaskme.app\" target={\"_blank\"}>{app.translator.trans('goaskme-points.forum.convert_gam_list.'+request.type)}</a>:(app.translator.trans('goaskme-points.forum.convert_gam_list.'+request.type)) }</td>\n                      <td class=\"NotificationGrid-groupToggle\"> {request.amount}</td>\n                      <td class=\"NotificationGrid-groupToggle\"> {request.current}</td>\n                      <td class=\"NotificationGrid-groupToggle\"> {request.created_at}</td>\n                    </tr>\n                  )\n                })\n              ) : !this.loading ? (\n                <div className=\"NotificationList-empty\">It looks as though there are no Log here.</div>\n              ) : (\n                <div className=\"NotificationList-empty\">nomal</div>\n              )}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    )\n  }\n\n  load() {\n    // if (app.cache.points_list) {\n    //  return\n    // }\n\n    this.loading = true\n    m.redraw()\n\n    app.store\n      .createRecord('points')\n      .save({ username: app.session.user.username() })\n      .then(res => {\n        const saveArr = []\n        if (!Array.isArray(res.data.list)) {\n          for (var i in res.data.list) {\n            saveArr.push(res.data.list[i])\n          }\n          app.cache.points_list = saveArr\n        } else {\n          app.cache.points_list = res.data.list\n        }\n      })\n      .catch(err => {\n        console.log(err)\n      })\n      .then(() => {\n        this.loading = false\n        m.redraw()\n      })\n  }\n}\n","/*\n *\n *  This file is part of fof/username-request.\n *\n *  Copyright (c) 2019 FriendsOfFlarum.\n *\n *  For the full copyright and license information, please view the LICENSE.md\n *  file that was distributed with this source code.\n *\n */\n\nimport Page from 'flarum/components/Page'\n\nimport RequestsList from './RequestsList'\n\nexport default class RequestsPage extends Page {\n  oninit(vnode) {\n    super.oninit(vnode)\n\n    app.history.push('requests')\n\n    this.list = new RequestsList()\n    this.list.load()\n\n    this.bodyClass = 'App--requests'\n  }\n\n  view() {\n    return <div className=\"RequestsPage\">{this.list.render()}</div>\n  }\n}\n","import UserPage from 'flarum/components/UserPage'\nimport RequestsList from './RequestsList'\nimport Button from 'flarum/components/Button'\nimport Dropdown from 'flarum/components/Dropdown'\nimport ItemList from 'flarum/utils/ItemList'\nimport listItems from 'flarum/helpers/listItems'\nimport RequestModal from './RequestModal'\nimport CloseModal from './CloseModal'\n\n// import GoaskmePointsConvertComposer from './GoaskmePointsConvertComposer'\nimport LogInModal from 'flarum/components/LogInModal'\n\nexport default class addGoaskmePointsUserPage extends UserPage {\n  oninit(vnode) {\n    super.oninit(vnode)\n    this.changeSort('latest')\n  }\n\n  show(user) {\n    // We can not create the list in init because the user will not be available if it has to be loaded asynchronously\n    this.list = new RequestsList()\n    this.list.load()\n\n    // We call the parent method after creating the list, this way the this.list property\n    // is set before content() is called for the first time\n    super.show(user)\n  }\n\n  handleChangeSort(sort, e) {\n    e.preventDefault()\n\n    this.changeSort(sort)\n  }\n\n  changeSort(sort) {\n    this.sort = sort\n    this.loadUser(m.route.param('username'))\n  }\n  /*\n  newDiscussionAction(e) {\n    e.preventDefault()\n\n    const deferred = m.deferred()\n\n    if (app.session.user) {\n      let recipients = new ItemList()\n      recipients.add('users:' + app.session.user.id(), app.session.user)\n\n      if (this.user !== null && app.session.user.id() !== this.user.id()) {\n        recipients.add('users:' + this.user.id(), this.user)\n      }\n\n      GoaskmePointsConvertComposer.prototype.recipients = recipients\n\n      const component = new GoaskmePointsConvertComposer({\n        user: app.session.user,\n        recipients: recipients,\n        recipientUsers: recipients,\n        titlePlaceholder: app.translator.trans('goaskme-points.forum.user.convert_gam_title'),\n        submitLabel: app.translator.trans('goaskme-points.forum.user.submit_button')\n      })\n\n      app.composer.load(component)\n\n      deferred.resolve(component)\n    } else {\n      deferred.reject()\n\n      app.modal.show(new LogInModal())\n    }\n\n    return deferred.promise\n  }\n*/\n  content() {\n    /*\n    return (\n      <div className=\"Placeholder\">\n        <p>It looks as though there are no discussions here.</p>\n      </div>\n    )\n    */\n    return (\n      <div className=\"DiscussionsUserPage\">\n        <div className=\"DiscussionsUserPage-toolbar\">\n          <ul className=\"DiscussionsUserPage-toolbar-action\">{listItems(this.actionItems().toArray())}</ul>\n          <ul className=\"DiscussionsUserPage-toolbar-view\">{listItems(this.viewItems().toArray())}</ul>\n        </div>\n        <div className=\"RequestsPage\">{this.list.view()}</div>\n      </div>\n    )\n  }\n\n  actionItems() {\n    const items = new ItemList()\n\n    items.add(\n      'start_convert_gam',\n      Button.component(\n        {\n          className: 'Button',\n          onclick: () => {\n            app.modal.show(CloseModal)\n            // app.modal.show(new RequestModal())\n          }\n        },\n        [app.translator.trans('goaskme-points.forum.user.convert_gam')]\n      ),\n      10\n    )\n\n    /*\n        if (app.session.user && app.forum.attribute('canStartPrivateDiscussion')) {\n            items.add(\n                'start_private',\n                Button.component({\n                    children: app.translator.trans(\n                        canStartDiscussion ? 'fof-byobu.forum.nav.start_button' : 'core.forum.index.cannot_start_discussion_button'\n                    ),\n                    icon: 'fas fa-pen',\n                    className: 'Button Button--primary IndexPage-newDiscussion',\n                    itemClassName: 'fof-byobu_primaryControl',\n                    //  onclick: this.newDiscussionAction.bind(this),\n                    disabled: !canStartDiscussion,\n                })\n            );\n        }\n*/\n    return items\n  }\n\n  viewItems() {\n    const items = new ItemList()\n    /*\n        const sortMap = this.list.sortMap();\n\n        const sortOptions = {};\n        for (const i in sortMap) {\n            sortOptions[i] = app.translator.trans('core.forum.index_sort.' + i + '_button');\n        }\n\n        items.add(\n            'sort',\n            Dropdown.component({\n                buttonClassName: 'Button',\n                label: sortOptions[this.sort] || Object.keys(sortMap).map((key) => sortOptions[key])[0],\n                children: Object.keys(sortOptions).map((value) => {\n                    const label = sortOptions[value];\n                    const active = (this.sort || Object.keys(sortMap)[0]) === value;\n\n                    return Button.component({\n                        children: label,\n                        icon: active ? 'fas fa-check' : true,\n                        onclick: this.handleChangeSort.bind(this, value),\n                        active: active,\n                    });\n                }),\n            })\n        );\n*/\n    return items\n  }\n}\n","import User from 'flarum/models/User'\nimport Model from 'flarum/Model'\n// 钱包主页面\nimport addGoaskmePointsPage from './addGoaskmePointsPage'\n// 右上角 钱包按钮\nimport addGoaskmePointsSessionDropdown from './addGoaskmePointsSessionDropdown'\n// 个人页面 显示爆炸值\nimport addPointsMoney from './addPointsMoney'\n// 钱包兑换显示页面\nimport RequestsPage from './components/RequestsPage'\nimport PointsPost from './models/PointsPost'\n\n// 钱包列表\nimport PointsRequest from './models/PointsRequest'\n// import Discussion from 'flarum/models/Discussion';\napp.initializers.add('goaskme-flarum-points', () => {\n  app.store.models.goaskme_convert_gam_requests = PointsPost\n  app.store.models.points = PointsRequest\n  User.prototype.goaskme_convert_gam_requests = Model.hasOne('goaskme_convert_gam_requestss')\n\n  // 注册 兑换页面路由 及响应pag\n  app.routes.goaskme_convert_gam = { path: '/goaskme_convert_gam', component: <RequestsPage /> }\n\n  //个人主页添加按钮\n  addGoaskmePointsPage()\n  //下拉按钮\n  addGoaskmePointsSessionDropdown()\n  //荣誉爆炸值\n  addPointsMoney()\n})\n","/*\r\n *\r\n *  This file is part of fof/username-request.\r\n *\r\n *  Copyright (c) 2019 FriendsOfFlarum.\r\n *\r\n *  For the full copyright and license information, please view the LICENSE.md\r\n *  file that was distributed with this source code.\r\n *\r\n */\r\nimport Model from 'flarum/Model'\r\nimport mixin from 'flarum/utils/mixin'\r\n\r\nexport default class PointsPost extends mixin(Model, {\r\n  //user: Model.hasOne('user'),\r\n  //requestedUsername: Model.attribute('requestedUsername'),\r\n  //status: Model.attribute('status'),\r\n  //reason: Model.attribute('reason'),\r\n  //createdAt: Model.attribute('createdAt', Model.transformDate)\r\n}) {}\r\n","import Model from 'flarum/Model'\r\n\r\nclass PointsRequest extends Model {}\r\n/*\r\nconsole.log()\r\nObject.assign(Points.prototype, {\r\n  nameSingular: Model.attribute('nameSingular'),\r\n  namePlural: Model.attribute('namePlural'),\r\n  color: Model.attribute('color'),\r\n  icon: Model.attribute('icon'),\r\n  isHidden: Model.attribute('isHidden')\r\n})\r\n\r\nGroup.ADMINISTRATOR_ID = '1'\r\nGroup.GUEST_ID = '2'\r\nGroup.MEMBER_ID = '3'\r\n*/\r\nexport default PointsRequest\r\n","module.exports = flarum.core.compat['Component'];","module.exports = flarum.core.compat['Model'];","module.exports = flarum.core.compat['components/Alert'];","module.exports = flarum.core.compat['components/Button'];","module.exports = flarum.core.compat['components/Dropdown'];","module.exports = flarum.core.compat['components/IndexPage'];","module.exports = flarum.core.compat['components/LinkButton'];","module.exports = flarum.core.compat['components/LoadingIndicator'];","module.exports = flarum.core.compat['components/LogInModal'];","module.exports = flarum.core.compat['components/Modal'];","module.exports = flarum.core.compat['components/Page'];","module.exports = flarum.core.compat['components/SessionDropdown'];","module.exports = flarum.core.compat['components/UserCard'];","module.exports = flarum.core.compat['components/UserPage'];","module.exports = flarum.core.compat['extend'];","module.exports = flarum.core.compat['helpers/avatar'];","module.exports = flarum.core.compat['helpers/humanTime'];","module.exports = flarum.core.compat['helpers/icon'];","module.exports = flarum.core.compat['helpers/listItems'];","module.exports = flarum.core.compat['helpers/username'];","module.exports = flarum.core.compat['models/User'];","module.exports = flarum.core.compat['utils/ItemList'];","module.exports = flarum.core.compat['utils/UserControls'];","module.exports = flarum.core.compat['utils/mixin'];"],"sourceRoot":""}